ARM GAS  /tmp/ccl2OUND.s 			page 1


   1              		.cpu cortex-m33
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"tty.c"
  14              		.text
  15              		.section	.text._usb_send_data,"ax",%progbits
  16              		.align	1
  17              		.arch armv8-m.main
  18              		.arch_extension dsp
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	_usb_send_data:
  25              		@ args = 0, pretend = 0, frame = 0
  26              		@ frame_needed = 0, uses_anonymous_args = 0
  27 0000 70B5     		push	{r4, r5, r6, lr}
  28 0002 0446     		mov	r4, r0
  29 0004 0D46     		mov	r5, r1
  30 0006 FFF7FEFF 		bl	usb_device_connected
  31 000a B0B9     		cbnz	r0, .L7
  32              	.L1:
  33 000c 70BD     		pop	{r4, r5, r6, pc}
  34              	.L4:
  35 000e 013E     		subs	r6, r6, #1
  36 0010 FCD0     		beq	.L1
  37 0012 0120     		movs	r0, #1
  38 0014 FFF7FEFF 		bl	time_delay_ms
  39              	.L2:
  40 0018 2946     		mov	r1, r5
  41 001a 2046     		mov	r0, r4
  42 001c FFF7FEFF 		bl	usb_cdc_tx
  43 0020 FF28     		cmp	r0, #255
  44 0022 F4D0     		beq	.L4
  45 0024 0A24     		movs	r4, #10
  46              	.L5:
  47 0026 FFF7FEFF 		bl	usb_cdc_tx_busy
  48 002a 0028     		cmp	r0, #0
  49 002c EED0     		beq	.L1
  50 002e 013C     		subs	r4, r4, #1
  51 0030 ECD0     		beq	.L1
  52 0032 0120     		movs	r0, #1
  53 0034 FFF7FEFF 		bl	time_delay_ms
  54 0038 F5E7     		b	.L5
  55              	.L7:
  56 003a 6426     		movs	r6, #100
  57 003c ECE7     		b	.L2
  59              		.section	.text._write,"ax",%progbits
ARM GAS  /tmp/ccl2OUND.s 			page 2


  60              		.align	1
  61              		.global	_write
  62              		.syntax unified
  63              		.thumb
  64              		.thumb_func
  65              		.fpu fpv4-sp-d16
  67              	_write:
  68              		@ args = 0, pretend = 0, frame = 0
  69              		@ frame_needed = 0, uses_anonymous_args = 0
  70 0000 10B5     		push	{r4, lr}
  71 0002 1446     		mov	r4, r2
  72 0004 0846     		mov	r0, r1
  73 0006 91B2     		uxth	r1, r2
  74 0008 FFF7FEFF 		bl	_usb_send_data
  75 000c 601C     		adds	r0, r4, #1
  76 000e 10BD     		pop	{r4, pc}
  78              		.section	.text._read,"ax",%progbits
  79              		.align	1
  80              		.global	_read
  81              		.syntax unified
  82              		.thumb
  83              		.thumb_func
  84              		.fpu fpv4-sp-d16
  86              	_read:
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  89              		@ link register save eliminated.
  90 0000 0020     		movs	r0, #0
  91 0002 7047     		bx	lr
  93              		.section	.text._usb_getchar,"ax",%progbits
  94              		.align	1
  95              		.global	_usb_getchar
  96              		.syntax unified
  97              		.thumb
  98              		.thumb_func
  99              		.fpu fpv4-sp-d16
 101              	_usb_getchar:
 102              		@ args = 0, pretend = 0, frame = 0
 103              		@ frame_needed = 0, uses_anonymous_args = 0
 104              		@ link register save eliminated.
 105 0000 084A     		ldr	r2, .L20
 106 0002 0949     		ldr	r1, .L20+4
 107 0004 1368     		ldr	r3, [r2]
 108 0006 0968     		ldr	r1, [r1]
 109 0008 9942     		cmp	r1, r3
 110 000a 08D0     		beq	.L19
 111 000c 0133     		adds	r3, r3, #1
 112 000e B3F5805F 		cmp	r3, #4096
 113 0012 28BF     		it	cs
 114 0014 0023     		movcs	r3, #0
 115 0016 1360     		str	r3, [r2]
 116 0018 044A     		ldr	r2, .L20+8
 117 001a D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 118 001c 7047     		bx	lr
 119              	.L19:
 120 001e 4FF0FF30 		mov	r0, #-1
 121 0022 7047     		bx	lr
ARM GAS  /tmp/ccl2OUND.s 			page 3


 122              	.L21:
 123              		.align	2
 124              	.L20:
 125 0024 00000000 		.word	.LANCHOR0
 126 0028 00000000 		.word	.LANCHOR1
 127 002c 00000000 		.word	_usb_stream_buffer
 129              		.section	.text._rx_feed,"ax",%progbits
 130              		.align	1
 131              		.global	_rx_feed
 132              		.syntax unified
 133              		.thumb
 134              		.thumb_func
 135              		.fpu fpv4-sp-d16
 137              	_rx_feed:
 138              		@ args = 0, pretend = 0, frame = 0
 139              		@ frame_needed = 0, uses_anonymous_args = 0
 140 0000 0D29     		cmp	r1, #13
 141 0002 10B5     		push	{r4, lr}
 142 0004 0446     		mov	r4, r0
 143 0006 0CD0     		beq	.L28
 144 0008 0A29     		cmp	r1, #10
 145 000a 08BF     		it	eq
 146 000c 0021     		moveq	r1, #0
 147              	.L23:
 148 000e D4F80034 		ldr	r3, [r4, #1024]
 149 0012 0829     		cmp	r1, #8
 150 0014 E154     		strb	r1, [r4, r3]
 151 0016 06D1     		bne	.L24
 152 0018 13B1     		cbz	r3, .L22
 153 001a 013B     		subs	r3, r3, #1
 154              	.L38:
 155 001c C4F80034 		str	r3, [r4, #1024]
 156              	.L22:
 157 0020 10BD     		pop	{r4, pc}
 158              	.L28:
 159 0022 0021     		movs	r1, #0
 160 0024 F3E7     		b	.L23
 161              	.L24:
 162 0026 41B9     		cbnz	r1, .L26
 163 0028 002B     		cmp	r3, #0
 164 002a F9D0     		beq	.L22
 165 002c 064B     		ldr	r3, .L39
 166 002e 1B68     		ldr	r3, [r3]
 167 0030 0BB1     		cbz	r3, .L27
 168 0032 2046     		mov	r0, r4
 169 0034 9847     		blx	r3
 170              	.L27:
 171 0036 0023     		movs	r3, #0
 172 0038 F0E7     		b	.L38
 173              	.L26:
 174 003a 40F2FE32 		movw	r2, #1022
 175 003e 9342     		cmp	r3, r2
 176 0040 EED8     		bhi	.L22
 177 0042 0133     		adds	r3, r3, #1
 178 0044 EAE7     		b	.L38
 179              	.L40:
 180 0046 00BF     		.align	2
ARM GAS  /tmp/ccl2OUND.s 			page 4


 181              	.L39:
 182 0048 00000000 		.word	.LANCHOR2
 184              		.section	.text.tty_rx_task,"ax",%progbits
 185              		.align	1
 186              		.global	tty_rx_task
 187              		.syntax unified
 188              		.thumb
 189              		.thumb_func
 190              		.fpu fpv4-sp-d16
 192              	tty_rx_task:
 193              		@ args = 0, pretend = 0, frame = 0
 194              		@ frame_needed = 0, uses_anonymous_args = 0
 195 0000 10B5     		push	{r4, lr}
 196 0002 054C     		ldr	r4, .L44
 197              	.L42:
 198 0004 FFF7FEFF 		bl	_usb_getchar
 199 0008 011E     		subs	r1, r0, #0
 200 000a 00DA     		bge	.L43
 201 000c 10BD     		pop	{r4, pc}
 202              	.L43:
 203 000e 2046     		mov	r0, r4
 204 0010 C9B2     		uxtb	r1, r1
 205 0012 FFF7FEFF 		bl	_rx_feed
 206 0016 F5E7     		b	.L42
 207              	.L45:
 208              		.align	2
 209              	.L44:
 210 0018 00000000 		.word	.LANCHOR3
 212              		.section	.text.tty_put_binary,"ax",%progbits
 213              		.align	1
 214              		.global	tty_put_binary
 215              		.syntax unified
 216              		.thumb
 217              		.thumb_func
 218              		.fpu fpv4-sp-d16
 220              	tty_put_binary:
 221              		@ args = 0, pretend = 0, frame = 0
 222              		@ frame_needed = 0, uses_anonymous_args = 0
 223              		@ link register save eliminated.
 224 0000 89B2     		uxth	r1, r1
 225 0002 FFF7FEBF 		b	_usb_send_data
 227              		.section	.text.tty_put_text,"ax",%progbits
 228              		.align	1
 229              		.global	tty_put_text
 230              		.syntax unified
 231              		.thumb
 232              		.thumb_func
 233              		.fpu fpv4-sp-d16
 235              	tty_put_text:
 236              		@ args = 0, pretend = 0, frame = 0
 237              		@ frame_needed = 0, uses_anonymous_args = 0
 238 0000 10B5     		push	{r4, lr}
 239 0002 0446     		mov	r4, r0
 240 0004 FFF7FEFF 		bl	strlen
 241 0008 81B2     		uxth	r1, r0
 242 000a 2046     		mov	r0, r4
 243 000c FFF7FEFF 		bl	_usb_send_data
ARM GAS  /tmp/ccl2OUND.s 			page 5


 244 0010 013C     		subs	r4, r4, #1
 245              	.L48:
 246 0012 14F8013F 		ldrb	r3, [r4, #1]!	@ zero_extendqisi2
 247 0016 002B     		cmp	r3, #0
 248 0018 FBD1     		bne	.L48
 249 001a 10BD     		pop	{r4, pc}
 251              		.section	.rodata._usb_rx_handler.str1.1,"aMS",%progbits,1
 252              	.LC0:
 253 0000 4552524F 		.ascii	"ERROR: USB RX overflow !\015\012\000"
 253      523A2055 
 253      53422052 
 253      58206F76 
 253      6572666C 
 254              		.section	.text._usb_rx_handler,"ax",%progbits
 255              		.align	1
 256              		.syntax unified
 257              		.thumb
 258              		.thumb_func
 259              		.fpu fpv4-sp-d16
 261              	_usb_rx_handler:
 262              		@ args = 0, pretend = 0, frame = 0
 263              		@ frame_needed = 0, uses_anonymous_args = 0
 264              		@ link register save eliminated.
 265 0000 70B4     		push	{r4, r5, r6}
 266 0002 0D4A     		ldr	r2, .L55
 267 0004 0D4C     		ldr	r4, .L55+4
 268 0006 1368     		ldr	r3, [r2]
 269 0008 2468     		ldr	r4, [r4]
 270 000a 0D4D     		ldr	r5, .L55+8
 271 000c 0144     		add	r1, r1, r0
 272              	.L51:
 273 000e 8842     		cmp	r0, r1
 274 0010 02D1     		bne	.L54
 275 0012 1360     		str	r3, [r2]
 276 0014 70BC     		pop	{r4, r5, r6}
 277 0016 7047     		bx	lr
 278              	.L54:
 279 0018 0133     		adds	r3, r3, #1
 280 001a B3F5805F 		cmp	r3, #4096
 281 001e 28BF     		it	cs
 282 0020 0023     		movcs	r3, #0
 283 0022 9C42     		cmp	r4, r3
 284 0024 03D1     		bne	.L53
 285 0026 0748     		ldr	r0, .L55+12
 286 0028 70BC     		pop	{r4, r5, r6}
 287 002a FFF7FEBF 		b	tty_put_text
 288              	.L53:
 289 002e 10F8016B 		ldrb	r6, [r0], #1	@ zero_extendqisi2
 290 0032 EE54     		strb	r6, [r5, r3]
 291 0034 EBE7     		b	.L51
 292              	.L56:
 293 0036 00BF     		.align	2
 294              	.L55:
 295 0038 00000000 		.word	.LANCHOR1
 296 003c 00000000 		.word	.LANCHOR0
 297 0040 00000000 		.word	_usb_stream_buffer
 298 0044 00000000 		.word	.LC0
ARM GAS  /tmp/ccl2OUND.s 			page 6


 300              		.section	.text.tty_init,"ax",%progbits
 301              		.align	1
 302              		.global	tty_init
 303              		.syntax unified
 304              		.thumb
 305              		.thumb_func
 306              		.fpu fpv4-sp-d16
 308              	tty_init:
 309              		@ args = 0, pretend = 0, frame = 0
 310              		@ frame_needed = 0, uses_anonymous_args = 0
 311 0000 08B5     		push	{r3, lr}
 312 0002 034B     		ldr	r3, .L58
 313 0004 1860     		str	r0, [r3]
 314 0006 0348     		ldr	r0, .L58+4
 315 0008 FFF7FEFF 		bl	usb_cdc_rx_init
 316 000c 0120     		movs	r0, #1
 317 000e 08BD     		pop	{r3, pc}
 318              	.L59:
 319              		.align	2
 320              	.L58:
 321 0010 00000000 		.word	.LANCHOR2
 322 0014 00000000 		.word	_usb_rx_handler
 324              		.global	_rx_callback
 325              		.section	.bss._rx_callback,"aw",%nobits
 326              		.align	2
 327              		.set	.LANCHOR2,. + 0
 330              	_rx_callback:
 331 0000 00000000 		.space	4
 332              		.section	.bss._usb_stream_buffer,"aw",%nobits
 335              	_usb_stream_buffer:
 336 0000 00000000 		.space	4096
 336      00000000 
 336      00000000 
 336      00000000 
 336      00000000 
 337              		.section	.bss._usb_stream_rd_ptr,"aw",%nobits
 338              		.align	2
 339              		.set	.LANCHOR0,. + 0
 342              	_usb_stream_rd_ptr:
 343 0000 00000000 		.space	4
 344              		.section	.bss._usb_stream_wr_ptr,"aw",%nobits
 345              		.align	2
 346              		.set	.LANCHOR1,. + 0
 349              	_usb_stream_wr_ptr:
 350 0000 00000000 		.space	4
 351              		.section	.bss.usb_rx_buf.1,"aw",%nobits
 352              		.align	2
 353              		.set	.LANCHOR3,. + 0
 356              	usb_rx_buf.1:
 357 0000 00000000 		.space	1028
 357      00000000 
 357      00000000 
 357      00000000 
 357      00000000 
 358              		.ident	"GCC: (15:10.3-2021.07-4) 10.3.1 20210621 (release)"
ARM GAS  /tmp/ccl2OUND.s 			page 7


DEFINED SYMBOLS
                            *ABS*:0000000000000000 tty.c
     /tmp/ccl2OUND.s:16     .text._usb_send_data:0000000000000000 $t
     /tmp/ccl2OUND.s:24     .text._usb_send_data:0000000000000000 _usb_send_data
     /tmp/ccl2OUND.s:60     .text._write:0000000000000000 $t
     /tmp/ccl2OUND.s:67     .text._write:0000000000000000 _write
     /tmp/ccl2OUND.s:79     .text._read:0000000000000000 $t
     /tmp/ccl2OUND.s:86     .text._read:0000000000000000 _read
     /tmp/ccl2OUND.s:94     .text._usb_getchar:0000000000000000 $t
     /tmp/ccl2OUND.s:101    .text._usb_getchar:0000000000000000 _usb_getchar
     /tmp/ccl2OUND.s:125    .text._usb_getchar:0000000000000024 $d
     /tmp/ccl2OUND.s:335    .bss._usb_stream_buffer:0000000000000000 _usb_stream_buffer
     /tmp/ccl2OUND.s:130    .text._rx_feed:0000000000000000 $t
     /tmp/ccl2OUND.s:137    .text._rx_feed:0000000000000000 _rx_feed
     /tmp/ccl2OUND.s:182    .text._rx_feed:0000000000000048 $d
     /tmp/ccl2OUND.s:185    .text.tty_rx_task:0000000000000000 $t
     /tmp/ccl2OUND.s:192    .text.tty_rx_task:0000000000000000 tty_rx_task
     /tmp/ccl2OUND.s:210    .text.tty_rx_task:0000000000000018 $d
     /tmp/ccl2OUND.s:213    .text.tty_put_binary:0000000000000000 $t
     /tmp/ccl2OUND.s:220    .text.tty_put_binary:0000000000000000 tty_put_binary
     /tmp/ccl2OUND.s:228    .text.tty_put_text:0000000000000000 $t
     /tmp/ccl2OUND.s:235    .text.tty_put_text:0000000000000000 tty_put_text
     /tmp/ccl2OUND.s:255    .text._usb_rx_handler:0000000000000000 $t
     /tmp/ccl2OUND.s:261    .text._usb_rx_handler:0000000000000000 _usb_rx_handler
     /tmp/ccl2OUND.s:295    .text._usb_rx_handler:0000000000000038 $d
     /tmp/ccl2OUND.s:301    .text.tty_init:0000000000000000 $t
     /tmp/ccl2OUND.s:308    .text.tty_init:0000000000000000 tty_init
     /tmp/ccl2OUND.s:321    .text.tty_init:0000000000000010 $d
     /tmp/ccl2OUND.s:330    .bss._rx_callback:0000000000000000 _rx_callback
     /tmp/ccl2OUND.s:326    .bss._rx_callback:0000000000000000 $d
     /tmp/ccl2OUND.s:336    .bss._usb_stream_buffer:0000000000000000 $d
     /tmp/ccl2OUND.s:338    .bss._usb_stream_rd_ptr:0000000000000000 $d
     /tmp/ccl2OUND.s:342    .bss._usb_stream_rd_ptr:0000000000000000 _usb_stream_rd_ptr
     /tmp/ccl2OUND.s:345    .bss._usb_stream_wr_ptr:0000000000000000 $d
     /tmp/ccl2OUND.s:349    .bss._usb_stream_wr_ptr:0000000000000000 _usb_stream_wr_ptr
     /tmp/ccl2OUND.s:352    .bss.usb_rx_buf.1:0000000000000000 $d
     /tmp/ccl2OUND.s:356    .bss.usb_rx_buf.1:0000000000000000 usb_rx_buf.1

UNDEFINED SYMBOLS
usb_device_connected
time_delay_ms
usb_cdc_tx
usb_cdc_tx_busy
strlen
usb_cdc_rx_init
