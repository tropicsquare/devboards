ARM GAS  /tmp/cclPkspA.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 4
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"spi.c"
  12              		.text
  13              		.section	.text.spi1_get_prescaler,"ax",%progbits
  14              		.align	1
  15              		.global	spi1_get_prescaler
  16              		.arch armv7-m
  17              		.syntax unified
  18              		.thumb
  19              		.thumb_func
  20              		.fpu softvfp
  22              	spi1_get_prescaler:
  23              		@ args = 0, pretend = 0, frame = 0
  24              		@ frame_needed = 0, uses_anonymous_args = 0
  25              		@ link register save eliminated.
  26 0000 034B     		ldr	r3, .L2
  27 0002 044A     		ldr	r2, .L2+4
  28 0004 1B68     		ldr	r3, [r3]
  29 0006 03F03803 		and	r3, r3, #56
  30 000a 32F81300 		ldrh	r0, [r2, r3, lsl #1]
  31 000e 7047     		bx	lr
  32              	.L3:
  33              		.align	2
  34              	.L2:
  35 0010 00300140 		.word	1073819648
  36 0014 00000000 		.word	.LANCHOR0
  38              		.section	.text.spi1_set_prescaler,"ax",%progbits
  39              		.align	1
  40              		.global	spi1_set_prescaler
  41              		.syntax unified
  42              		.thumb
  43              		.thumb_func
  44              		.fpu softvfp
  46              	spi1_set_prescaler:
  47              		@ args = 0, pretend = 0, frame = 0
  48              		@ frame_needed = 0, uses_anonymous_args = 0
  49              		@ link register save eliminated.
  50 0000 2028     		cmp	r0, #32
  51 0002 15D0     		beq	.L5
  52 0004 0CD8     		bhi	.L6
  53 0006 0828     		cmp	r0, #8
  54 0008 1AD0     		beq	.L9
  55 000a 05D8     		bhi	.L7
  56 000c 0228     		cmp	r0, #2
  57 000e 19D0     		beq	.L10
  58 0010 0428     		cmp	r0, #4
  59 0012 19D0     		beq	.L11
  60              	.L15:
ARM GAS  /tmp/cclPkspA.s 			page 2


  61 0014 0020     		movs	r0, #0
  62 0016 7047     		bx	lr
  63              	.L7:
  64 0018 1028     		cmp	r0, #16
  65 001a FBD1     		bne	.L15
  66 001c 1820     		movs	r0, #24
  67 001e 07E0     		b	.L5
  68              	.L6:
  69 0020 8028     		cmp	r0, #128
  70 0022 13D0     		beq	.L13
  71 0024 B0F5807F 		cmp	r0, #256
  72 0028 12D0     		beq	.L14
  73 002a 4028     		cmp	r0, #64
  74 002c F2D1     		bne	.L15
  75 002e 2820     		movs	r0, #40
  76              	.L5:
  77 0030 084A     		ldr	r2, .L19
  78 0032 1368     		ldr	r3, [r2]
  79 0034 23F03803 		bic	r3, r3, #56
  80 0038 1843     		orrs	r0, r0, r3
  81 003a 1060     		str	r0, [r2]
  82 003c 0120     		movs	r0, #1
  83 003e 7047     		bx	lr
  84              	.L9:
  85 0040 1020     		movs	r0, #16
  86 0042 F5E7     		b	.L5
  87              	.L10:
  88 0044 0020     		movs	r0, #0
  89 0046 F3E7     		b	.L5
  90              	.L11:
  91 0048 0820     		movs	r0, #8
  92 004a F1E7     		b	.L5
  93              	.L13:
  94 004c 3020     		movs	r0, #48
  95 004e EFE7     		b	.L5
  96              	.L14:
  97 0050 3820     		movs	r0, #56
  98 0052 EDE7     		b	.L5
  99              	.L20:
 100              		.align	2
 101              	.L19:
 102 0054 00300140 		.word	1073819648
 104              		.section	.text.spi1_init,"ax",%progbits
 105              		.align	1
 106              		.global	spi1_init
 107              		.syntax unified
 108              		.thumb
 109              		.thumb_func
 110              		.fpu softvfp
 112              	spi1_init:
 113              		@ args = 0, pretend = 0, frame = 64
 114              		@ frame_needed = 0, uses_anonymous_args = 0
 115 0000 30B5     		push	{r4, r5, lr}
 116 0002 2F4C     		ldr	r4, .L25
 117 0004 91B0     		sub	sp, sp, #68
 118 0006 2822     		movs	r2, #40
 119 0008 0021     		movs	r1, #0
ARM GAS  /tmp/cclPkspA.s 			page 3


 120 000a 06A8     		add	r0, sp, #24
 121 000c FFF7FEFF 		bl	memset
 122 0010 A369     		ldr	r3, [r4, #24]
 123 0012 2C4D     		ldr	r5, .L25+4
 124 0014 43F48053 		orr	r3, r3, #4096
 125 0018 A361     		str	r3, [r4, #24]
 126 001a FFF7FEFF 		bl	dma_init
 127 001e 1422     		movs	r2, #20
 128 0020 0021     		movs	r1, #0
 129 0022 01A8     		add	r0, sp, #4
 130 0024 FFF7FEFF 		bl	memset
 131 0028 A369     		ldr	r3, [r4, #24]
 132 002a 0122     		movs	r2, #1
 133 002c 43F00403 		orr	r3, r3, #4
 134 0030 A361     		str	r3, [r4, #24]
 135 0032 A369     		ldr	r3, [r4, #24]
 136 0034 0421     		movs	r1, #4
 137 0036 03F00403 		and	r3, r3, #4
 138 003a 2846     		mov	r0, r5
 139 003c 0093     		str	r3, [sp]
 140 003e 009B     		ldr	r3, [sp]
 141 0040 FFF7FEFF 		bl	gpio_pin_init
 142 0044 1023     		movs	r3, #16
 143 0046 4AF2A002 		movw	r2, #41120
 144 004a 2B61     		str	r3, [r5, #16]
 145 004c 0923     		movs	r3, #9
 146 004e 0024     		movs	r4, #0
 147 0050 CDE90123 		strd	r2, r3, [sp, #4]
 148 0054 0323     		movs	r3, #3
 149 0056 01A9     		add	r1, sp, #4
 150 0058 2846     		mov	r0, r5
 151 005a CDE90334 		strd	r3, r4, [sp, #12]
 152 005e 0594     		str	r4, [sp, #20]
 153 0060 FFF7FEFF 		bl	LL_GPIO_Init
 154 0064 44F24001 		movw	r1, #16448
 155 0068 0823     		movs	r3, #8
 156 006a CDE90113 		strd	r1, r3, [sp, #4]
 157 006e 0123     		movs	r3, #1
 158 0070 01A9     		add	r1, sp, #4
 159 0072 2846     		mov	r0, r5
 160 0074 0593     		str	r3, [sp, #20]
 161 0076 FFF7FEFF 		bl	LL_GPIO_Init
 162 007a 4FF48273 		mov	r3, #260
 163 007e 4FF40070 		mov	r0, #512
 164 0082 CDE90734 		strd	r3, r4, [sp, #28]
 165 0086 1823     		movs	r3, #24
 166 0088 CDE90B03 		strd	r0, r3, [sp, #44]
 167 008c 0723     		movs	r3, #7
 168 008e CDE90944 		strd	r4, r4, [sp, #36]
 169 0092 CDE90D44 		strd	r4, r4, [sp, #52]
 170 0096 0694     		str	r4, [sp, #24]
 171 0098 0B4C     		ldr	r4, .L25+8
 172 009a 06A9     		add	r1, sp, #24
 173 009c 2046     		mov	r0, r4
 174 009e 0F93     		str	r3, [sp, #60]
 175 00a0 FFF7FEFF 		bl	LL_SPI_Init
 176 00a4 FFF7FEFF 		bl	dma_init_spi_rx
ARM GAS  /tmp/cclPkspA.s 			page 4


 177 00a8 FFF7FEFF 		bl	dma_init_spi_tx
 178 00ac 2368     		ldr	r3, [r4]
 179 00ae 43F04003 		orr	r3, r3, #64
 180 00b2 2360     		str	r3, [r4]
 181              	.L22:
 182 00b4 A368     		ldr	r3, [r4, #8]
 183 00b6 9B07     		lsls	r3, r3, #30
 184 00b8 FCD5     		bpl	.L22
 185 00ba 11B0     		add	sp, sp, #68
 186              		@ sp needed
 187 00bc 30BD     		pop	{r4, r5, pc}
 188              	.L26:
 189 00be 00BF     		.align	2
 190              	.L25:
 191 00c0 00100240 		.word	1073876992
 192 00c4 00080140 		.word	1073809408
 193 00c8 00300140 		.word	1073819648
 195              		.section	.text.spi1_data_transfer,"ax",%progbits
 196              		.align	1
 197              		.global	spi1_data_transfer
 198              		.syntax unified
 199              		.thumb
 200              		.thumb_func
 201              		.fpu softvfp
 203              	spi1_data_transfer:
 204              		@ args = 0, pretend = 0, frame = 0
 205              		@ frame_needed = 0, uses_anonymous_args = 0
 206 0000 70B5     		push	{r4, r5, r6, lr}
 207 0002 0E46     		mov	r6, r1
 208 0004 1546     		mov	r5, r2
 209 0006 0A4C     		ldr	r4, .L31
 210 0008 1146     		mov	r1, r2
 211 000a 6368     		ldr	r3, [r4, #4]
 212 000c 43F00303 		orr	r3, r3, #3
 213 0010 6360     		str	r3, [r4, #4]
 214 0012 FFF7FEFF 		bl	dma_spi_rx_start
 215 0016 2946     		mov	r1, r5
 216 0018 3046     		mov	r0, r6
 217 001a FFF7FEFF 		bl	dma_spi_tx_start
 218              	.L28:
 219 001e FFF7FEFF 		bl	dma_spi_rx_done
 220 0022 0028     		cmp	r0, #0
 221 0024 FBD0     		beq	.L28
 222 0026 6368     		ldr	r3, [r4, #4]
 223 0028 23F00303 		bic	r3, r3, #3
 224 002c 6360     		str	r3, [r4, #4]
 225 002e 70BD     		pop	{r4, r5, r6, pc}
 226              	.L32:
 227              		.align	2
 228              	.L31:
 229 0030 00300140 		.word	1073819648
 231              		.section	.text.spi1_flush,"ax",%progbits
 232              		.align	1
 233              		.global	spi1_flush
 234              		.syntax unified
 235              		.thumb
 236              		.thumb_func
ARM GAS  /tmp/cclPkspA.s 			page 5


 237              		.fpu softvfp
 239              	spi1_flush:
 240              		@ args = 0, pretend = 0, frame = 0
 241              		@ frame_needed = 0, uses_anonymous_args = 0
 242              		@ link register save eliminated.
 243 0000 024B     		ldr	r3, .L38
 244 0002 9A68     		ldr	r2, [r3, #8]
 245 0004 D207     		lsls	r2, r2, #31
 246 0006 48BF     		it	mi
 247 0008 DB68     		ldrmi	r3, [r3, #12]
 248 000a 7047     		bx	lr
 249              	.L39:
 250              		.align	2
 251              	.L38:
 252 000c 00300140 		.word	1073819648
 254              		.section	.text.spi1_transfer,"ax",%progbits
 255              		.align	1
 256              		.global	spi1_transfer
 257              		.syntax unified
 258              		.thumb
 259              		.thumb_func
 260              		.fpu softvfp
 262              	spi1_transfer:
 263              		@ args = 0, pretend = 0, frame = 0
 264              		@ frame_needed = 0, uses_anonymous_args = 0
 265              		@ link register save eliminated.
 266 0000 054B     		ldr	r3, .L47
 267              	.L41:
 268 0002 9A68     		ldr	r2, [r3, #8]
 269 0004 9107     		lsls	r1, r2, #30
 270 0006 FCD5     		bpl	.L41
 271 0008 1873     		strb	r0, [r3, #12]
 272              	.L42:
 273 000a 9A68     		ldr	r2, [r3, #8]
 274 000c D207     		lsls	r2, r2, #31
 275 000e FCD5     		bpl	.L42
 276 0010 D868     		ldr	r0, [r3, #12]
 277 0012 C0B2     		uxtb	r0, r0
 278 0014 7047     		bx	lr
 279              	.L48:
 280 0016 00BF     		.align	2
 281              	.L47:
 282 0018 00300140 		.word	1073819648
 284              		.section	.text.spi1_cs_state,"ax",%progbits
 285              		.align	1
 286              		.global	spi1_cs_state
 287              		.syntax unified
 288              		.thumb
 289              		.thumb_func
 290              		.fpu softvfp
 292              	spi1_cs_state:
 293              		@ args = 0, pretend = 0, frame = 0
 294              		@ frame_needed = 0, uses_anonymous_args = 0
 295              		@ link register save eliminated.
 296 0000 014B     		ldr	r3, .L50
 297 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 298 0004 7047     		bx	lr
ARM GAS  /tmp/cclPkspA.s 			page 6


 299              	.L51:
 300 0006 00BF     		.align	2
 301              	.L50:
 302 0008 00000000 		.word	.LANCHOR1
 304              		.section	.text.spi1_cs,"ax",%progbits
 305              		.align	1
 306              		.global	spi1_cs
 307              		.syntax unified
 308              		.thumb
 309              		.thumb_func
 310              		.fpu softvfp
 312              	spi1_cs:
 313              		@ args = 0, pretend = 0, frame = 0
 314              		@ frame_needed = 0, uses_anonymous_args = 0
 315              		@ link register save eliminated.
 316 0000 1021     		movs	r1, #16
 317 0002 054A     		ldr	r2, .L55
 318 0004 054B     		ldr	r3, .L55+4
 319 0006 18B1     		cbz	r0, .L53
 320 0008 5161     		str	r1, [r2, #20]
 321 000a 0122     		movs	r2, #1
 322 000c 1A70     		strb	r2, [r3]
 323 000e 7047     		bx	lr
 324              	.L53:
 325 0010 1161     		str	r1, [r2, #16]
 326 0012 1870     		strb	r0, [r3]
 327 0014 7047     		bx	lr
 328              	.L56:
 329 0016 00BF     		.align	2
 330              	.L55:
 331 0018 00080140 		.word	1073809408
 332 001c 00000000 		.word	.LANCHOR1
 334              		.section	.bss._spi1_cs_state,"aw",%nobits
 335              		.set	.LANCHOR1,. + 0
 338              	_spi1_cs_state:
 339 0000 00       		.space	1
 340              		.section	.rodata.CSWTCH.5,"a"
 341              		.align	1
 342              		.set	.LANCHOR0,. + 0
 345              	CSWTCH.5:
 346 0000 0200     		.short	2
 347 0002 0000     		.short	0
 348 0004 0000     		.short	0
 349 0006 0000     		.short	0
 350 0008 0000     		.short	0
 351 000a 0000     		.short	0
 352 000c 0000     		.short	0
 353 000e 0000     		.short	0
 354 0010 0400     		.short	4
 355 0012 0000     		.short	0
 356 0014 0000     		.short	0
 357 0016 0000     		.short	0
 358 0018 0000     		.short	0
 359 001a 0000     		.short	0
 360 001c 0000     		.short	0
 361 001e 0000     		.short	0
 362 0020 0800     		.short	8
ARM GAS  /tmp/cclPkspA.s 			page 7


 363 0022 0000     		.short	0
 364 0024 0000     		.short	0
 365 0026 0000     		.short	0
 366 0028 0000     		.short	0
 367 002a 0000     		.short	0
 368 002c 0000     		.short	0
 369 002e 0000     		.short	0
 370 0030 1000     		.short	16
 371 0032 0000     		.short	0
 372 0034 0000     		.short	0
 373 0036 0000     		.short	0
 374 0038 0000     		.short	0
 375 003a 0000     		.short	0
 376 003c 0000     		.short	0
 377 003e 0000     		.short	0
 378 0040 2000     		.short	32
 379 0042 0000     		.short	0
 380 0044 0000     		.short	0
 381 0046 0000     		.short	0
 382 0048 0000     		.short	0
 383 004a 0000     		.short	0
 384 004c 0000     		.short	0
 385 004e 0000     		.short	0
 386 0050 4000     		.short	64
 387 0052 0000     		.short	0
 388 0054 0000     		.short	0
 389 0056 0000     		.short	0
 390 0058 0000     		.short	0
 391 005a 0000     		.short	0
 392 005c 0000     		.short	0
 393 005e 0000     		.short	0
 394 0060 8000     		.short	128
 395 0062 0000     		.short	0
 396 0064 0000     		.short	0
 397 0066 0000     		.short	0
 398 0068 0000     		.short	0
 399 006a 0000     		.short	0
 400 006c 0000     		.short	0
 401 006e 0000     		.short	0
 402 0070 0001     		.short	256
 403              		.ident	"GCC: (15:10.3-2021.07-4) 10.3.1 20210621 (release)"
ARM GAS  /tmp/cclPkspA.s 			page 8


DEFINED SYMBOLS
                            *ABS*:0000000000000000 spi.c
     /tmp/cclPkspA.s:14     .text.spi1_get_prescaler:0000000000000000 $t
     /tmp/cclPkspA.s:22     .text.spi1_get_prescaler:0000000000000000 spi1_get_prescaler
     /tmp/cclPkspA.s:35     .text.spi1_get_prescaler:0000000000000010 $d
     /tmp/cclPkspA.s:39     .text.spi1_set_prescaler:0000000000000000 $t
     /tmp/cclPkspA.s:46     .text.spi1_set_prescaler:0000000000000000 spi1_set_prescaler
     /tmp/cclPkspA.s:102    .text.spi1_set_prescaler:0000000000000054 $d
     /tmp/cclPkspA.s:105    .text.spi1_init:0000000000000000 $t
     /tmp/cclPkspA.s:112    .text.spi1_init:0000000000000000 spi1_init
     /tmp/cclPkspA.s:191    .text.spi1_init:00000000000000c0 $d
     /tmp/cclPkspA.s:196    .text.spi1_data_transfer:0000000000000000 $t
     /tmp/cclPkspA.s:203    .text.spi1_data_transfer:0000000000000000 spi1_data_transfer
     /tmp/cclPkspA.s:229    .text.spi1_data_transfer:0000000000000030 $d
     /tmp/cclPkspA.s:232    .text.spi1_flush:0000000000000000 $t
     /tmp/cclPkspA.s:239    .text.spi1_flush:0000000000000000 spi1_flush
     /tmp/cclPkspA.s:252    .text.spi1_flush:000000000000000c $d
     /tmp/cclPkspA.s:255    .text.spi1_transfer:0000000000000000 $t
     /tmp/cclPkspA.s:262    .text.spi1_transfer:0000000000000000 spi1_transfer
     /tmp/cclPkspA.s:282    .text.spi1_transfer:0000000000000018 $d
     /tmp/cclPkspA.s:285    .text.spi1_cs_state:0000000000000000 $t
     /tmp/cclPkspA.s:292    .text.spi1_cs_state:0000000000000000 spi1_cs_state
     /tmp/cclPkspA.s:302    .text.spi1_cs_state:0000000000000008 $d
     /tmp/cclPkspA.s:305    .text.spi1_cs:0000000000000000 $t
     /tmp/cclPkspA.s:312    .text.spi1_cs:0000000000000000 spi1_cs
     /tmp/cclPkspA.s:331    .text.spi1_cs:0000000000000018 $d
     /tmp/cclPkspA.s:338    .bss._spi1_cs_state:0000000000000000 _spi1_cs_state
     /tmp/cclPkspA.s:339    .bss._spi1_cs_state:0000000000000000 $d
     /tmp/cclPkspA.s:341    .rodata.CSWTCH.5:0000000000000000 $d
     /tmp/cclPkspA.s:345    .rodata.CSWTCH.5:0000000000000000 CSWTCH.5

UNDEFINED SYMBOLS
memset
dma_init
gpio_pin_init
LL_GPIO_Init
LL_SPI_Init
dma_init_spi_rx
dma_init_spi_tx
dma_spi_rx_start
dma_spi_tx_start
dma_spi_rx_done
